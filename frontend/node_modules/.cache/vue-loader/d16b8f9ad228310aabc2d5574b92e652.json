{"remainingRequest":"D:\\XAMPP\\htdocs\\IM2\\EventManagement-PortraitsByBukool\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\XAMPP\\htdocs\\IM2\\EventManagement-PortraitsByBukool\\frontend\\src\\components\\Employee\\EmployeeEvents.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\XAMPP\\htdocs\\IM2\\EventManagement-PortraitsByBukool\\frontend\\src\\components\\Employee\\EmployeeEvents.vue","mtime":1626788552243},{"path":"D:\\XAMPP\\htdocs\\IM2\\EventManagement-PortraitsByBukool\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1626788476181},{"path":"D:\\XAMPP\\htdocs\\IM2\\EventManagement-PortraitsByBukool\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1626788474122},{"path":"D:\\XAMPP\\htdocs\\IM2\\EventManagement-PortraitsByBukool\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1626788476181},{"path":"D:\\XAMPP\\htdocs\\IM2\\EventManagement-PortraitsByBukool\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":1626788548639}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgYXhpb3MgZnJvbSAiYXhpb3MiOw0KDQpleHBvcnQgZGVmYXVsdCB7DQogIG5hbWU6ICdFbXBsb3llZUV2ZW50cycsDQogZGF0YSgpIHsNCiAgICByZXR1cm4gew0KICAgICAgbWFuYWdlck5hbWU6ICIiLA0KICAgICAgYWNjb3VudF9pZDogLTEsDQogICAgICBldmVudElkOiAtMSwNCiAgICAgIGV2ZW50TmFtZTogIiIsDQogICAgICBldmVudERldGFpbHM6ICIiLA0KICAgICAgZXZlbnRTdGF0dXM6ICIiLA0KICAgICAgc3RhcnREYXRlOiAiMTAxMDEwIiwNCiAgICAgIGVuZERhdGU6ICIxMDEwMTAiLA0KICAgICAgdGFza05hbWU6ICIiLA0KICAgICAgdGFza0lkOiAiIiwNCiAgICAgIGNsaWNrZWQ6ICJub3QiLA0KICAgICAgYXNzaWduZWRFdmVudHM6IFtdLA0KICAgICAgc2VydmljZXM6IFtdLA0KICAgICAgdGFza3M6IFtdLA0KICAgICAgYWNjb3VudDogW10sDQogICAgfTsNCiAgfSwNCg0KICBjcmVhdGVkKCkgew0KICAgIHRoaXMuYWNjb3VudF9pZCA9IHRoaXMuJHJvdXRlLnBhcmFtcy5pZDsNCiAgICBjb25zb2xlLmxvZygiVGhlIGFjY291bnQgaWQgaXM6ICIgKyB0aGlzLmFjY291bnRfaWQpOw0KICAgIHRoaXMuZ2V0QXNzaWduZWRFdmVudHMoKTsNCiAgICB0aGlzLmdldFNlcnZpY2VzKCk7DQogICAgdGhpcy5nZXRBc3NpZ25lZFRhc2tzKCk7DQogICAgdGhpcy5nZXRBY2NvdW50KCk7DQogIH0sDQoNCiAgbWV0aG9kczogew0KICAgIGFzeW5jIGdldEFjY291bnQoKSB7DQogICAgICB0cnkgew0KICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGF4aW9zLmdldChgaHR0cDovL2xvY2FsaG9zdDozMDAwL3VzZXIvJHt0aGlzLmFjY291bnRfaWR9YCkNCiAgICAgICAgdGhpcy5hY2NvdW50ID0gcmVzcG9uc2UuZGF0YTsNCiAgICAgIH0gY2F0Y2ggKGVycikgew0KICAgICAgICBjb25zb2xlLmxvZyhlcnIpOw0KICAgICAgfQ0KICAgIH0sDQogICAgYXN5bmMgZ2V0U2VydmljZXMoKSB7DQogICAgICB0cnkgew0KICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGF4aW9zLmdldCgiaHR0cDovL2xvY2FsaG9zdDozMDAwL3NlcnZpY2VzIik7DQogICAgICAgIHRoaXMuc2VydmljZXMgPSByZXNwb25zZS5kYXRhOw0KICAgICAgICBjb25zb2xlLmxvZyh0aGlzLnNlcnZpY2VzKTsNCiAgICAgIH0gY2F0Y2ggKGVycikgew0KICAgICAgICBjb25zb2xlLmxvZyhlcnIpOw0KICAgICAgfQ0KICAgIH0sDQogICAgYXN5bmMgZ2V0QXNzaWduZWRUYXNrcygpIHsNCiAgICAgIHRyeSB7DQogICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgYXhpb3MuZ2V0KGBodHRwOi8vbG9jYWxob3N0OjMwMDAvZW1wbG95ZWUvdGFza3MvJHt0aGlzLmFjY291bnRfaWR9YCk7DQogICAgICAgIHRoaXMudGFza3MgPSByZXNwb25zZS5kYXRhOw0KICAgICAgfSBjYXRjaCAoZXJyKSB7DQogICAgICAgIGNvbnNvbGUubG9nKGVycik7DQogICAgICB9DQogICAgfSwNCiAgICBhc3luYyBnZXRBc3NpZ25lZEV2ZW50cygpIHsNCiAgICAgIHRyeSB7DQogICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgYXhpb3MuZ2V0KGBodHRwOi8vbG9jYWxob3N0OjMwMDAvZW1wbG95ZWUvZXZlbnRzLyR7dGhpcy5hY2NvdW50X2lkfWApOw0KICAgICAgICBjb25zb2xlLmxvZygiT05HT0lORyIpOw0KICAgICAgICB0aGlzLmFzc2lnbmVkRXZlbnRzID0gcmVzcG9uc2UuZGF0YTsNCiAgICAgICAgY29uc29sZS5sb2codGhpcy5hc3NpZ25lZEV2ZW50cyk7DQogICAgICB9IGNhdGNoIChlcnIpIHsNCiAgICAgICAgY29uc29sZS5sb2coZXJyKTsNCiAgICAgIH0NCiAgICB9LA0KICAgIGFzeW5jIHNob3dFdmVudChpZCwgc3RhcnRfZGF0ZSwgZW5kX2RhdGUsIHRhc2tfbmFtZSwgdGFza19pZCl7DQogICAgICB0cnkgew0KICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGF4aW9zLmdldChgaHR0cDovL2xvY2FsaG9zdDozMDAwL2V2ZW50LyR7aWR9YCkNCiAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UpOw0KICAgICAgICB0aGlzLmNsaWNrZWQgPSAiY2xpY2tlZCI7DQogICAgICAgIHRoaXMuc3RhcnREYXRlID0gc3RhcnRfZGF0ZTsNCiAgICAgICAgdGhpcy5lbmREYXRlID0gZW5kX2RhdGU7DQogICAgICAgIHRoaXMudGFza05hbWUgPSB0YXNrX25hbWU7DQogICAgICAgIHRoaXMudGFza0lkID0gdGFza19pZDsNCiAgICAgICAgY29uc29sZS5sb2coc3RhcnRfZGF0ZSwgZW5kX2RhdGUsIHRhc2tfaWQsIHRhc2tfbmFtZSk7DQogICAgICAgIHRoaXMuZXZlbnRJZCA9IHJlc3BvbnNlLmRhdGEuaWQNCiAgICAgICAgdGhpcy5ldmVudE5hbWUgPSByZXNwb25zZS5kYXRhLmV2ZW50X25hbWU7DQogICAgICAgIHRoaXMuZXZlbnREZXRhaWxzID0gcmVzcG9uc2UuZGF0YS5ldmVudF9kZXRhaWxzOw0KICAgICAgICB0aGlzLmV2ZW50U3RhdHVzID0gcmVzcG9uc2UuZGF0YS5zdGF0dXM7DQogICAgICAgIHRoaXMubWFuYWdlck5hbWUgPSAiSXNhaWFoIFF1aW5pY290Ig0KICAgICAgICBjb25zdCBjYWxlbmRhciA9IHRoaXMuJHJlZnMuY2FsZW5kYXI7DQogICAgICAgIGF3YWl0IGNhbGVuZGFyLm1vdmUocmVzcG9uc2UuZGF0YS5ldmVudF9kYXRlKTsNCiAgICAgIH0gY2F0Y2ggKGVycikgew0KICAgICAgICBjb25zb2xlLmxvZyhlcnIpOw0KICAgICAgfQ0KICAgIH0sDQogICAgYXN5bmMgZG9uZVRhc2soaWQpIHsNCiAgICAgIHRyeSB7DQogICAgICAgIGF3YWl0IGF4aW9zLnB1dChgaHR0cDovL2xvY2FsaG9zdDozMDAwL2VtcGxveWVlL3Rhc2tzLyR7aWR9YCk7DQogICAgICAgIHRoaXMuZXZlbnRJZCA9ICIiOw0KICAgICAgICB0aGlzLmV2ZW50TmFtZSA9ICIiOw0KICAgICAgICB0aGlzLmV2ZW50RGV0YWlscyA9ICIiOw0KICAgICAgICB0aGlzLmV2ZW50U3RhdHVzID0gIiI7DQogICAgICAgIHRoaXMubWFuYWdlck5hbWUgPSAiIjsNCiAgICAgICAgdGhpcy5jbGlja2VkID0gIm5vdCI7DQogICAgICAgIHRoaXMuc3RhcnREYXRlID0gIjEwMTAxMCIsDQogICAgICAgIHRoaXMuZW5kRGF0ZSA9ICIxMDEwMTAiLA0KICAgICAgICB0aGlzLmdldEFzc2lnbmVkRXZlbnRzKCk7DQogICAgICAgIHRoaXMuZ2V0U2VydmljZXMoKTsNCiAgICAgICAgdGhpcy5nZXRBc3NpZ25lZFRhc2tzKCk7DQogICAgICB9IGNhdGNoIChlcnIpIHsNCiAgICAgICAgY29uc29sZS5sb2coZXJyKTsNCiAgICAgIH0NCiAgICB9DQogIH0sDQogIGNvbXB1dGVkOnsNCiAgICBhdHRyaWJ1dGVzKCl7DQogICAgICByZXR1cm5bDQogICAgICAgIHsNCiAgICAgICAgICBoaWdobGlnaHQ6IHsNCiAgICAgICAgICAgIHN0YXJ0OiB7ZmlsbE1vZGU6ICdvdXRsaW5lJywgY29sb3I6ICdyZWQnfSwNCiAgICAgICAgICAgIGJhc2U6IHtmaWxsTW9kZTogJ2xpZ2h0JywgY29sb3I6ICdyZWQnfSwNCiAgICAgICAgICAgIGVuZDoge2ZpbGxNb2RlOiAnb3V0bGluZScsIGNvbG9yOiAncmVkJ30sDQogICAgICAgICAgfSwNCiAgICAgICAgICBkYXRlczoge3N0YXJ0OiB0aGlzLnN0YXJ0RGF0ZSwgZW5kOiB0aGlzLmVuZERhdGV9LA0KICAgICAgICAgIHBvcG92ZXI6IHsNCiAgICAgICAgICAgIGxhYmVsOiB0aGlzLnRhc2tOYW1lKyItIit0aGlzLmV2ZW50TmFtZSwNCiAgICAgICAgICAgIHZpc2liaWxpdHk6ICdjbGljaycNCiAgICAgICAgICB9DQogICAgICAgIH0sDQogICAgICBdDQogICAgfQ0KICB9DQp9Ow0K"},{"version":3,"sources":["EmployeeEvents.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"EmployeeEvents.vue","sourceRoot":"src/components/Employee","sourcesContent":["<template>\r\n  <div class=\"wrapper d-flex align-items-stretch\">\r\n    <link href=\"https://fonts.googleapis.com/css?family=Poppins:300,400,500,600,700,800,900\" rel=\"stylesheet\">\r\n  \r\n    <link rel=\"stylesheet\" href=\"https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css\">\r\n    <link rel=\"stylesheet\" href=\"../../pages/css/style.css\">\r\n    <nav id=\"sidebar\" style=\"background-color: #006666;\">\r\n      <div class=\"p-4\">\r\n        <h1><a href=\"\" class=\"logo\"><img src=\"../../../public/pages/img/sunlogo(original).png\" width=\"100%\" alt=\"\"></a></h1>\r\n      <div class=\"mb-5\">\r\n      <ul class=\"list-unstyled components mb-5\">\r\n        <li class=\"active\">\r\n            <a @click=\"redirect('EmployeeEvents')\"><span class=\"fa fa-calendar mr-3\"></span> Events</a>\r\n        </li>\r\n        <li>\r\n          <a href=\"/employee/inbox\"><span class=\"fa fa-inbox mr-3\"></span>  Inbox</a>\r\n        </li>\r\n      </ul>\r\n      </div>\r\n        <div class=\"footer\">\r\n          <ul class=\"list-unstyled components mb-5\">\r\n            <li>\r\n              <a href=\"/\"><span class=\"fa fa-sign-out mr-3\"></span> Logout</a>\r\n            </li>\r\n          </ul>\r\n        </div>\r\n\r\n      </div>\r\n    </nav>\r\n\r\n      <!-- Page Content  -->\r\n    <div id=\"content\" class=\"p-4 p-md-5 pt-5\">\r\n      <div style=\"float: right;\">\r\n        <span>{{account.firstname}} {{account.lastname}} </span><i class=\"fas fa-user-circle fa-lg\"></i>\r\n      </div>\r\n      <div class=\"mt-3\">\r\n        <h1>Events</h1>\r\n        <br>\r\n        <div class=\"row\">\r\n          <div class=\"col-sm-3\">\r\n            <h3>Task List</h3>\r\n            <div>\r\n              <a class=\"list-group-item list-group-item-action\" v-for=\"task in tasks\" :key=\"task.id\" @click=\"showEvent(task.event_id, task.start_date, task.end_date, task.name, task.id)\">\r\n                {{task.name}}\r\n              </a>\r\n            </div>\r\n          </div>\r\n          <div class=\"col\">\r\n            <h3>Event Details</h3>\r\n            <div>\r\n            Project Name: {{eventName}}\r\n            <br>\r\n            Project Status: {{eventStatus}}\r\n            <br>\r\n            Team Manager: {{managerName}}\r\n            <br>\r\n            <div v-if=\"clicked == 'clicked'\">\r\n              <a class=\"text-success\" @click=\"doneTask(taskId)\">Mark as Done <i class=\"fas fa-plus-circle fa-lg\"></i></a>\r\n            </div>\r\n            </div>\r\n          </div>\r\n          <div class=\"col\">\r\n            <v-calendar ref=\"calendar\" :attributes='attributes' is-expanded></v-calendar>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from \"axios\";\r\n\r\nexport default {\r\n  name: 'EmployeeEvents',\r\n data() {\r\n    return {\r\n      managerName: \"\",\r\n      account_id: -1,\r\n      eventId: -1,\r\n      eventName: \"\",\r\n      eventDetails: \"\",\r\n      eventStatus: \"\",\r\n      startDate: \"101010\",\r\n      endDate: \"101010\",\r\n      taskName: \"\",\r\n      taskId: \"\",\r\n      clicked: \"not\",\r\n      assignedEvents: [],\r\n      services: [],\r\n      tasks: [],\r\n      account: [],\r\n    };\r\n  },\r\n\r\n  created() {\r\n    this.account_id = this.$route.params.id;\r\n    console.log(\"The account id is: \" + this.account_id);\r\n    this.getAssignedEvents();\r\n    this.getServices();\r\n    this.getAssignedTasks();\r\n    this.getAccount();\r\n  },\r\n\r\n  methods: {\r\n    async getAccount() {\r\n      try {\r\n        const response = await axios.get(`http://localhost:3000/user/${this.account_id}`)\r\n        this.account = response.data;\r\n      } catch (err) {\r\n        console.log(err);\r\n      }\r\n    },\r\n    async getServices() {\r\n      try {\r\n        const response = await axios.get(\"http://localhost:3000/services\");\r\n        this.services = response.data;\r\n        console.log(this.services);\r\n      } catch (err) {\r\n        console.log(err);\r\n      }\r\n    },\r\n    async getAssignedTasks() {\r\n      try {\r\n        const response = await axios.get(`http://localhost:3000/employee/tasks/${this.account_id}`);\r\n        this.tasks = response.data;\r\n      } catch (err) {\r\n        console.log(err);\r\n      }\r\n    },\r\n    async getAssignedEvents() {\r\n      try {\r\n        const response = await axios.get(`http://localhost:3000/employee/events/${this.account_id}`);\r\n        console.log(\"ONGOING\");\r\n        this.assignedEvents = response.data;\r\n        console.log(this.assignedEvents);\r\n      } catch (err) {\r\n        console.log(err);\r\n      }\r\n    },\r\n    async showEvent(id, start_date, end_date, task_name, task_id){\r\n      try {\r\n        const response = await axios.get(`http://localhost:3000/event/${id}`)\r\n        console.log(response);\r\n        this.clicked = \"clicked\";\r\n        this.startDate = start_date;\r\n        this.endDate = end_date;\r\n        this.taskName = task_name;\r\n        this.taskId = task_id;\r\n        console.log(start_date, end_date, task_id, task_name);\r\n        this.eventId = response.data.id\r\n        this.eventName = response.data.event_name;\r\n        this.eventDetails = response.data.event_details;\r\n        this.eventStatus = response.data.status;\r\n        this.managerName = \"Isaiah Quinicot\"\r\n        const calendar = this.$refs.calendar;\r\n        await calendar.move(response.data.event_date);\r\n      } catch (err) {\r\n        console.log(err);\r\n      }\r\n    },\r\n    async doneTask(id) {\r\n      try {\r\n        await axios.put(`http://localhost:3000/employee/tasks/${id}`);\r\n        this.eventId = \"\";\r\n        this.eventName = \"\";\r\n        this.eventDetails = \"\";\r\n        this.eventStatus = \"\";\r\n        this.managerName = \"\";\r\n        this.clicked = \"not\";\r\n        this.startDate = \"101010\",\r\n        this.endDate = \"101010\",\r\n        this.getAssignedEvents();\r\n        this.getServices();\r\n        this.getAssignedTasks();\r\n      } catch (err) {\r\n        console.log(err);\r\n      }\r\n    }\r\n  },\r\n  computed:{\r\n    attributes(){\r\n      return[\r\n        {\r\n          highlight: {\r\n            start: {fillMode: 'outline', color: 'red'},\r\n            base: {fillMode: 'light', color: 'red'},\r\n            end: {fillMode: 'outline', color: 'red'},\r\n          },\r\n          dates: {start: this.startDate, end: this.endDate},\r\n          popover: {\r\n            label: this.taskName+\"-\"+this.eventName,\r\n            visibility: 'click'\r\n          }\r\n        },\r\n      ]\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\r\n<style scoped>\r\n</style>\r\n"]}]}